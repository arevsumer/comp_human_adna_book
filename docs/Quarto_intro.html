<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Laura Lacher">
<meta name="dcterms.date" content="2023-10-23">

<title>Computational Methods for human population genetics and ancient DNA - 1&nbsp; Introduction to Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Quarto_intro.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Quarto</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Computational Methods for human population genetics and ancient DNA</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Quarto_intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Quarto</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setting-up" id="toc-setting-up" class="nav-link active" data-scroll-target="#setting-up"><span class="header-section-number">1.1</span> Setting up</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started"><span class="header-section-number">1.2</span> Getting started</a></li>
  <li><a href="#universal-instructions" id="toc-universal-instructions" class="nav-link" data-scroll-target="#universal-instructions"><span class="header-section-number">1.3</span> Universal instructions</a>
  <ul class="collapse">
  <li><a href="#render-save" id="toc-render-save" class="nav-link" data-scroll-target="#render-save"><span class="header-section-number">1.3.1</span> Render &amp; save</a></li>
  <li><a href="#visual-and-source" id="toc-visual-and-source" class="nav-link" data-scroll-target="#visual-and-source"><span class="header-section-number">1.3.2</span> Visual and Source</a></li>
  <li><a href="#qmd-files" id="toc-qmd-files" class="nav-link" data-scroll-target="#qmd-files"><span class="header-section-number">1.3.3</span> .qmd files</a></li>
  </ul></li>
  <li><a href="#render-your-document" id="toc-render-your-document" class="nav-link" data-scroll-target="#render-your-document"><span class="header-section-number">1.4</span> Render your document</a></li>
  <li><a href="#quarto-website" id="toc-quarto-website" class="nav-link" data-scroll-target="#quarto-website"><span class="header-section-number">1.5</span> Quarto website</a>
  <ul class="collapse">
  <li><a href="#yml-files" id="toc-yml-files" class="nav-link" data-scroll-target="#yml-files"><span class="header-section-number">1.5.1</span> .yml files</a></li>
  </ul></li>
  <li><a href="#quarto-book" id="toc-quarto-book" class="nav-link" data-scroll-target="#quarto-book"><span class="header-section-number">1.6</span> Quarto book</a>
  <ul class="collapse">
  <li><a href="#yml-files-1" id="toc-yml-files-1" class="nav-link" data-scroll-target="#yml-files-1"><span class="header-section-number">1.6.1</span> .yml files</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Quarto</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Laura Lacher </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>In this introduction to quarto, you will be shown the basics in how to set up a website and a book. For more detailed information, I highly recommend checking out the <a href="https://quarto.org">website</a> and also watch the <a href="https://youtu.be/_f3latmOhew">introduction tutorial</a>.</p>
<section id="setting-up" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="setting-up"><span class="header-section-number">1.1</span> Setting up</h2>
<p>Quarto is the “next generation” of R Markdown and is usable on different tools.</p>
<p><img src="img/quarto_intro/Picture 1.png" class="img-fluid" width="300"></p>
<p>Here, I will only focus on <strong>RStudio</strong> though. For this, you have to <a href="https://posit.co/download/rstudio-desktop/">download</a> RStudio first. If you have done this already, we can get started.</p>
<p>Quarto in general is set up to be very intuitive and user friendly. And while it is possible to set up different documents simultaneously, those can also easily be set up to in just the way you need for whatever occasion. So, for either communicating your results to collaborators, discuss code with your supervisor, setting up a website or writing your paper, to just name some szenarios, quarto comes in quite handy. So, let’s begin:</p>
</section>
<section id="getting-started" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="getting-started"><span class="header-section-number">1.2</span> Getting started</h2>
<p>First, we have to install the quarto package using the following command in our console:</p>
<p><code>install.packages("quarto")</code></p>
<p>Now we are ready to set up a quarto document.</p>
<p>For this we open a new project and select the quarto document we want to create. You can choose to set up a git repository as well. For practicality, I usually also tick the box visual markdown editor.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 11.34.16.png" class="img-fluid" width="300"></p>
<p>The new project will look like this:</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 11.39.43.png" class="img-fluid"></p>
</section>
<section id="universal-instructions" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="universal-instructions"><span class="header-section-number">1.3</span> Universal instructions</h2>
<p>When setting up your document, quarto will always provide you with some presets. So first, we will have a look into the .qmd files, for they are handled the same way, regardless the format you are setting up (website, book, presentation, etc.).</p>
<section id="render-save" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="render-save"><span class="header-section-number">1.3.1</span> Render &amp; save</h3>
<p>If we now click on render, we will be provided with the preview of our final version if the project in the viewer.</p>
<p><strong>Important: Do not mistake “save” with “render”.</strong> Just by saving, your document did not get rendered automatically, <strong>unless</strong> you tick the box “<strong>Render on Save</strong>”. You have to tick that box on each .qmd file individually though.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 14.12.45.png" class="img-fluid" width="300"></p>
</section>
<section id="visual-and-source" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="visual-and-source"><span class="header-section-number">1.3.2</span> Visual and Source</h3>
<p>If you have chosen the <strong>Visual</strong> option on your toolbar, the preview will mostly resemble your .qmd files. If you are more comfortable with the R markdown optics, you can switch to <strong>Source.</strong></p>
<p>In the <strong>Source</strong> version, you can write up your document in LaTeX.</p>
<p><img src="img/quarto_intro/Screenshot_3.png" class="img-fluid" width="400"></p>
</section>
<section id="qmd-files" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="qmd-files"><span class="header-section-number">1.3.3</span> .qmd files</h3>
<p>Quarto will automatically provide you with two <strong>.qmd files</strong>, as well as a <strong>.yml file</strong>.</p>
<p>The .qmd files respond to the individual pages of your website or chapter of your book or pages of your presentation, etc. You can shape them individually or define the layout for all of them in the .yml file, to which we will get later.</p>
<p>In your .qmd files you also find a yaml at the top of your document, separated by</p>
<p>---</p>
<p>---</p>
<p>Within these, you can define the outline of .qmd file <strong>individually</strong>, starting with the page header. Other options, you might be using in the future are:</p>
<p><code>author: Jessi Doe</code></p>
<p>-&gt; will add an author underneath the header</p>
<p><code>execute:    echo: true</code></p>
<p>-&gt; if &gt;true&lt;, code will be visible</p>
<p><code>toc:true</code></p>
<p>-&gt; if &gt;true&lt;, a table of content will be automatically added</p>
<p><code>bibliography: your_references.bib</code></p>
<p>-&gt; file or list of files for your references</p>
<p>It is crucial to stick to the spacing. Otherwise, an error will occur.</p>
<section id="insert" class="level4" data-number="1.3.3.1">
<h4 data-number="1.3.3.1" class="anchored" data-anchor-id="insert"><span class="header-section-number">1.3.3.1</span> Insert</h4>
<p>If you click <code>Insert</code>, you will realize, quarto provides you with a lot of options and shortcuts as well. So by just selecting on your chosen item to insert, it will be added to the document, while you are also provided with options on the appearance (in the case of figure/images or tables, etc). We will here have a brief look into how to work with <strong>R code</strong> and how to use the <strong>reference</strong> option.</p>
</section>
<section id="r-code" class="level4" data-number="1.3.3.2">
<h4 data-number="1.3.3.2" class="anchored" data-anchor-id="r-code"><span class="header-section-number">1.3.3.2</span> R code</h4>
<p>To add R code to your file, you select <code>Insert</code>, select <code>Code Cell</code> and choose the kind of code you want to insert. In this case, <code>R</code>. There are some things to keep in mind though.</p>
<p>Depending on how you have set up your .qmd file (or your .yml), your code will be visible or not on your website. To check your output, you can click the green arrow for the latest bit of code or the grey arrow above a bar to run the previous code.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 15.04.31.png" class="img-fluid" width="400"></p>
<p>But in case there are some chunks of code, you do not want to show all the time, there are some nice sets.</p>
<p>So if we just load the library <code>tidyverse</code>, for example, the additional information regardless and it will be also visible on our website.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 14.49.43.png" class="img-fluid"></p>
<p>To avoid this, we can set up a code chunk, looking like this:</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 14.55.13.png" class="img-fluid"></p>
<p>This will prevent the output of this code chunk to be depicted on your website, while the package is otherwise active and can be used in the following R code. This is, by the way, true for all R code and data sets you will use: they will be active in your document and can be used in different code chunks, once provided.</p>
<p>A code block included in your document could look like the following. Here I used the option</p>
<p><code>code-fold: true</code> so the code can be extended. This option is only available in html though.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-17 at 17.05.28.png" class="img-fluid" width="400"></p>
</section>
<section id="references" class="level4" data-number="1.3.3.3">
<h4 data-number="1.3.3.3" class="anchored" data-anchor-id="references"><span class="header-section-number">1.3.3.3</span> References</h4>
<p>Depending on which citation program you are using, quarto is able to connect to it (<a href="https://www.zotero.org">Zotero</a> works, for example). So, when selecting to insert a <code>Citation</code>, you can choose to simply add a reference from your program.</p>
<p>Alternatively, you are provided with some options to choose from:</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 15.09.41.png" class="img-fluid" width="200"></p>
<p>In your source code and your website, a citation will be depicted as follows:</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 15.12.57.png" class="img-fluid"></p>
<p>The citation will also automatically be added to a <code>references.bib</code> as well as to a <code>references.qmd</code> and is therefore available on your website on the page “References”, which also will be created automatically.</p>
</section>
</section>
</section>
<section id="render-your-document" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="render-your-document"><span class="header-section-number">1.4</span> Render your document</h2>
<p>When done with setting up your documents, you would like to have the actual output. Depending on the <code>format</code> you set in your .yml file, your output can be a <code>html</code>, <code>pdf</code>, <code>MS Word</code>, <code>OpenOffice</code>, or <code>ePUB</code> file. To create those, the terminal in your RStudio Project is used.</p>
<p>By using the command:<br>
<code>quarto render</code></p>
<p>all formats you predefined in your .yml file will be rendered.</p>
<p>In case you are only interested in one format to be rendered, you can specify your command:</p>
<p><code>quarto render -to pdf</code></p>
<p>Your rendered document should now look like this:</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-17 at 14.15.05.png" class="img-fluid"></p>
</section>
<section id="quarto-website" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="quarto-website"><span class="header-section-number">1.5</span> Quarto website</h2>
<p>In the provided .qmd files, the index is also the first page of your website. As you might have noticed, quarto already sets up a navbar as well as a search function on your website.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-11 at 14.09.08.png" class="img-fluid" width="200"></p>
<section id="yml-files" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="yml-files"><span class="header-section-number">1.5.1</span> .yml files</h3>
<p>While your .qmd files contain information about one page, the .yml file defines the overall looks of the website.</p>
<p>Here, you can define the type of your project (in this case a website), you can change the name of the website (<code>Title</code>), define your navbar (which shall be your landing page and in what order your pages shall be set up) or the overall appearance of your website in general (<code>theme</code>, <code>css</code>, <code>toc</code>, <code>backgroundcolor</code>, etc.). For different styles and layouts, check out the quarto <a href="https://quarto.org/docs/reference/formats/html.html">website</a> again.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-12 at 11.25.37.png" class="img-fluid" width="200"></p>
</section>
</section>
<section id="quarto-book" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="quarto-book"><span class="header-section-number">1.6</span> Quarto book</h2>
<p>The setup of the .yml file in a quarto book is slightly different than that of the website. So here are some general remarks about them.</p>
<section id="yml-files-1" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="yml-files-1"><span class="header-section-number">1.6.1</span> .yml files</h3>
<p>We see, for example, that instead of a navbar, we find <code>chapters</code>. Those will appear in the listed order in your book.</p>
<p>We also already get provided with a <code>bibliography</code> and the responding .bib file. If you have other .bib files, those can be included in your references, by just adding them to <code>bibliography</code>.</p>
<p><img src="img/quarto_intro/Screenshot 2023-10-12 at 11.41.30.png" class="img-fluid" width="200"></p>
<p>_________________________________________________________________________</p>
<p>With this, you should at least have some ideas on how you can use quarto in your daily work routine. Happy coding and please feel free to contact me for any remarks or questions. I am happy to try and help.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>